/*
 * Copyright (c) 17/9/2020 Created By/Edited By ASDAFF asdaff.asad@yandex.ru
 */

function addNewRow(q,a){var k=document.getElementById(q);var g=k.rows.length;if(a==null){a=-2}var h=k.rows[g+a].cells[0].innerHTML;var b=k.insertRow(g+a+1);var m=b.insertCell(0);var r,o,f,d;d=0;while(true){r=h.indexOf("[n",d);if(r<0){break}o=h.indexOf("]",r);if(o<0){break}f=parseInt(h.substr(r+2,o-r));h=h.substr(0,r)+"[n"+(++f)+"]"+h.substr(o+1);d=r+1}d=0;while(true){r=h.indexOf("__n",d);if(r<0){break}o=h.indexOf("_",r+2);if(o<0){break}f=parseInt(h.substr(r+3,o-r));h=h.substr(0,r)+"__n"+(++f)+"_"+h.substr(o+1);d=o+1}d=0;while(true){r=h.indexOf("__N",d);if(r<0){break}o=h.indexOf("__",r+2);if(o<0){break}f=parseInt(h.substr(r+3,o-r));h=h.substr(0,r)+"__N"+(++f)+"__"+h.substr(o+2);d=o+2}d=0;while(true){r=h.indexOf("xxn",d);if(r<0){break}o=h.indexOf("xx",r+2);if(o<0){break}f=parseInt(h.substr(r+3,o-r));h=h.substr(0,r)+"xxn"+(++f)+"xx"+h.substr(o+2);d=o+2}d=0;while(true){r=h.indexOf("%5Bn",d);if(r<0){break}o=h.indexOf("%5D",r+3);if(o<0){break}f=parseInt(h.substr(r+4,o-r));h=h.substr(0,r)+"%5Bn"+(++f)+"%5D"+h.substr(o+3);d=o+3}m.innerHTML=h;var l=new RegExp("<script>[^\000]*?<\/script>","ig");var c=h.match(l);if(c){for(var j=0;j<c.length;j++){if(c[j]!=""){r=c[j].substring(8,c[j].length-9);jsUtils.EvalGlobal(r)}}}if(BX&&BX.adminPanel){BX.adminPanel.modifyFormElements(b);BX.onCustomEvent("onAdminTabsChange")}setTimeout(function(){var p=BX.findChildren(m,{tag:/^(input|select|textarea)$/i});if(p&&p.length>0){for(var n=0,e=p.length;n<e;n++){if(p[n].form&&p[n].form.BXAUTOSAVE){p[n].form.BXAUTOSAVE.RegisterInput(p[n])}else{break}}}},10)}function initSortable(c,b){if(typeof b=="undefined"||!b){b="ext_og"}var a=document.getElementById(c);if(typeof window.ogSortable=="undefined"){window.ogSortable=[]}window.ogSortable[c]=new Sortable(a,{group:b,onUpdate:function(h){var d=a.getAttribute("data-input");d=document.getElementById(d);var g=[];var f=h.srcElement.children.length;for(var e=0;e<f;e++){g.push(h.srcElement.children[e].getAttribute("data-id"))}d.value=g.join(",")}})};